{"version":3,"sources":["webpack:///src/components/planning.vue","webpack:///./src/components/planning.vue?6749","webpack:///./src/components/planning.vue"],"names":["planning","getList","val","UR_ZONE","getCoverList","_this","this","ur_zone","page","input","then","response","LIST","err","_this2","WIID","BZ_NAME","BZ_IDENT","XC","components_planning","render","_vm","_h","$createElement","_c","_self","directives","name","rawName","value","expression","attrs","id","staticClass","staticStyle","width","data","tableData3","prop","label","align","_v","scopedSlots","_u","key","fn","scope","type","on","click","$event","handleClick","row","title","visible","dialogTableVisible","update:visible","span","placeholder","model","callback","$$v","plain","search","gridData","height","property","_s","WI_RGTIME","handleClickDetail","loadMore","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/7.4d4b46c1a6b5ec9795da.js","sourcesContent":["<template>\n  <div id=\"wrap\" v-loading=\"loading\">\n    <!-- <div class=\"head\">重大事项监督</div> -->\n    <!-- 内容部分 -->\n    <div class=\"content\">\n      <el-table :data=\"tableData3\" style=\"width: 100%\">\n        <el-table-column prop=\"NUM\" label=\"序号\" align=\"center\">\n        </el-table-column>\n        <el-table-column prop=\"UR_ZONE\" label=\"项目类型\" align=\"center\">\n        </el-table-column>\n        <el-table-column prop=\"在办宗数\" label=\"在办宗数\" align=\"center\">\n        </el-table-column>\n        <el-table-column label=\"操作\" align=\"center\">\n          <template slot-scope=\"scope\">\n            <el-button @click=\"handleClick(scope.row)\" type=\"primary\">查看列表</el-button>\n          </template>\n        </el-table-column>\n      </el-table>\n    </div>\n    <!-- 点击打开嵌套的表格 -->\n    <div>\n      <el-dialog title='' :visible.sync=\"dialogTableVisible\" width=\"100%\">\n        <div class=\"search\">\n          <el-col :span=\"10\">\n            <el-input v-model=\"input\" placeholder=\"请输入项目名称/编号\"></el-input>\n          </el-col>\n          <el-col :span=\"8\">\n            <el-button type=\"success\" plain @click='search'>搜索</el-button>\n          </el-col>\n        </div>\n        <el-table :data=\"gridData\" height='550px'>\n          <el-table-column property=\"NUM\" label=\"序号\" align=\"center\"></el-table-column>\n          <el-table-column property=\"BZ_NAME\" label=\"类型\" align=\"center\"></el-table-column>\n          <el-table-column property=\"WI_XNAME\" label=\"项目名称\" align=\"center\"></el-table-column>\n          <el-table-column property=\"WI_ID\" label=\"项目编号\" align=\"center\"></el-table-column>\n          <el-table-column property=\"WI_RGTIME\" label=\"日期\" align=\"center\">\n            <template slot-scope=\"scope\">\n              <span>{{ scope.row.WI_RGTIME }}</span>\n            </template>\n          </el-table-column>\n          <el-table-column label=\"操作\" align=\"center\">\n            <template slot-scope=\"scope\">\n              <el-button @click=\"handleClickDetail(scope.row)\" type=\"primary\">查看详情</el-button>\n            </template>\n          </el-table-column>\n        </el-table>\n        <p class=\"more\" v-show=\"more\" @click='loadMore'>点击加载更多...</p>\n        <p class=\"more\" v-show=\"ing\">\n          <i class=\"el-icon-loading\"></i>\n        </p>\n        <p class=\"more\" v-show=\"end\">所有数据已加载完毕</p>\n      </el-dialog>\n    </div>\n  </div>\n</template>\n<script type=\"text/ecmascript-6\">\nexport default {\n  name: \"planing\",\n  data () {\n    return {\n      tableData3: [],\n      loading: true,\n      gridData: [],\n      dialogTableVisible: false,\n      page: 1,\n      end: false,\n      more: true,\n      ur_zone: '',\n      ing: false,\n      input: ''\n    };\n  },\n  created () {\n    this.getList()\n  },\n  methods: {\n    // 当点击查看的时候 进行查看\n    handleClick (val) {\n      this.page = 1\n      console.log(val)\n      this.end = false\n      this.ur_zone = val.UR_ZONE\n      this.gridData = []\n      this.dialogTableVisible = true\n      this.getCoverList()\n    },\n    // 遮罩层出现后渲染数据\n    getCoverList (type) {\n      this.ing = true\n      this.more = false\n      this.$ajax.get('/api/ghydbg/mos/getkszblist.aspx', {\n        params: {\n          \"ur_zone\": this.ur_zone,\n          \"count\": 15,\n          \"page\": this.page,\n          'giz': this.input\n        }\n      }).then((response) => {\n        if (response.data !== 0) {\n          if (type) {\n            this.gridData = this.gridData.concat(response.data.LIST)\n            this.ing = false\n            this.more = true\n            if (response.data.LIST.length == 0) {\n              this.more = false\n              this.end = true\n              this.ing = false\n            }\n          } else {\n            this.gridData = response.data.LIST\n            this.ing = false\n            this.more = true\n            this.end = false\n          }\n        } else {\n          this.$message({\n            message: '数据请求失败，请重试',\n            type: 'warning'\n          });\n        }\n      }).catch((err) => {\n        console.log(err)\n      })\n    },\n    getList () {\n      this.loading = true\n      this.$ajax.get('http://192.168.1.102/ghydbg/mos/gettjfx.aspx', {\n        params: {\n          \"count\": 15,\n          \"page\": 1\n        }\n      }).then((response) => {\n        console.log(response)\n        this.loading = false\n        if (response.data !== 0) {\n          this.tableData3 = response.data.LIST\n        } else {\n          this.$message({\n            message: '数据请求失败，请重试',\n            type: 'warning'\n          });\n        }\n      }).catch((err) => {\n        console.log(err)\n      })\n    },\n    //当点击搜索\n    search () {\n      this.getCoverList()\n    },\n    // 当点击查看详情的请求\n    handleClickDetail (val) {\n      console.log(val)\n      if (val.BZ_NAME === '收文') {\n        location.href = '/MobileOffice/officeDetail.html?wiid=' + val.WIID;\n      } else {\n        location.href = '/MobileOffice/planDetail.html?wiid=' + val.WIID + '&nameText=' + encodeURIComponent(val.BZ_NAME,\n          'UTF-8') + '&type=' + val.BZ_IDENT + '&xc=' + val.XC;\n      }\n    },\n    loadMore () {\n      this.page++;\n      this.getCoverList(1)\n    }\n  }\n};\n</script>\n<style lang=\"stylus\" rel=\"stylesheet/stylus\" scoped>\nhtml, body\n  height 100%\n  font-size 30px\n  #wrap\n    height 100%\n    .content\n      margin-top 20px\n      .more\n        text-align center\n        font-size 18px\n      .search\n        margin-left 30%\n        margin-bottom 10px\n      .cacel\n        position absolute\n        right 10px\n        top 10px\n        font-size 25px\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/planning.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],attrs:{\"id\":\"wrap\"}},[_c('div',{staticClass:\"content\"},[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData3}},[_c('el-table-column',{attrs:{\"prop\":\"NUM\",\"label\":\"序号\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"UR_ZONE\",\"label\":\"项目类型\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"在办宗数\",\"label\":\"在办宗数\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.handleClick(scope.row)}}},[_vm._v(\"查看列表\")])]}}])})],1)],1),_vm._v(\" \"),_c('div',[_c('el-dialog',{attrs:{\"title\":\"\",\"visible\":_vm.dialogTableVisible,\"width\":\"100%\"},on:{\"update:visible\":function($event){_vm.dialogTableVisible=$event}}},[_c('div',{staticClass:\"search\"},[_c('el-col',{attrs:{\"span\":10}},[_c('el-input',{attrs:{\"placeholder\":\"请输入项目名称/编号\"},model:{value:(_vm.input),callback:function ($$v) {_vm.input=$$v},expression:\"input\"}})],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":8}},[_c('el-button',{attrs:{\"type\":\"success\",\"plain\":\"\"},on:{\"click\":_vm.search}},[_vm._v(\"搜索\")])],1)],1),_vm._v(\" \"),_c('el-table',{attrs:{\"data\":_vm.gridData,\"height\":\"550px\"}},[_c('el-table-column',{attrs:{\"property\":\"NUM\",\"label\":\"序号\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"property\":\"BZ_NAME\",\"label\":\"类型\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"property\":\"WI_XNAME\",\"label\":\"项目名称\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"property\":\"WI_ID\",\"label\":\"项目编号\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"property\":\"WI_RGTIME\",\"label\":\"日期\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(scope.row.WI_RGTIME))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.handleClickDetail(scope.row)}}},[_vm._v(\"查看详情\")])]}}])})],1),_vm._v(\" \"),_c('p',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.more),expression:\"more\"}],staticClass:\"more\",on:{\"click\":_vm.loadMore}},[_vm._v(\"点击加载更多...\")]),_vm._v(\" \"),_c('p',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.ing),expression:\"ing\"}],staticClass:\"more\"},[_c('i',{staticClass:\"el-icon-loading\"})]),_vm._v(\" \"),_c('p',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.end),expression:\"end\"}],staticClass:\"more\"},[_vm._v(\"所有数据已加载完毕\")])],1)],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-1f984628\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/planning.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1f984628\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./planning.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./planning.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./planning.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1f984628\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./planning.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-1f984628\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/planning.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}
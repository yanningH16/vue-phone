webpackJsonp([7],{m46F:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={name:"planing",data:function(){return{tableData3:[],loading:!0,gridData:[],dialogTableVisible:!1,page:1,end:!1,more:!0,ur_zone:"",ing:!1,input:""}},created:function(){this.getList()},methods:{handleClick:function(e){this.page=1,console.log(e),this.end=!1,this.ur_zone=e.UR_ZONE,this.gridData=[],this.dialogTableVisible=!0,this.getCoverList()},getCoverList:function(e){var t=this;this.ing=!0,this.more=!1,this.$ajax.get("/api/ghydbg/mos/getkszblist.aspx",{params:{ur_zone:this.ur_zone,count:15,page:this.page,giz:this.input}}).then(function(a){0!==a.data?e?(t.gridData=t.gridData.concat(a.data.LIST),t.ing=!1,t.more=!0,0==a.data.LIST.length&&(t.more=!1,t.end=!0,t.ing=!1)):(t.gridData=a.data.LIST,t.ing=!1,t.more=!0,t.end=!1):t.$message({message:"数据请求失败，请重试",type:"warning"})}).catch(function(e){console.log(e)})},getList:function(){var e=this;this.loading=!0,this.$ajax.get("http://192.168.1.102/ghydbg/mos/gettjfx.aspx",{params:{count:15,page:1}}).then(function(t){console.log(t),e.loading=!1,0!==t.data?e.tableData3=t.data.LIST:e.$message({message:"数据请求失败，请重试",type:"warning"})}).catch(function(e){console.log(e)})},search:function(){this.getCoverList()},handleClickDetail:function(e){console.log(e),"收文"===e.BZ_NAME?location.href="/MobileOffice/officeDetail.html?wiid="+e.WIID:location.href="/MobileOffice/planDetail.html?wiid="+e.WIID+"&nameText="+encodeURIComponent(e.BZ_NAME,"UTF-8")+"&type="+e.BZ_IDENT+"&xc="+e.XC},loadMore:function(){this.page++,this.getCoverList(1)}}},i={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{id:"wrap"}},[a("div",{staticClass:"content"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData3}},[a("el-table-column",{attrs:{prop:"NUM",label:"序号",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"UR_ZONE",label:"项目类型",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"在办宗数",label:"在办宗数",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary"},on:{click:function(a){e.handleClick(t.row)}}},[e._v("查看列表")])]}}])})],1)],1),e._v(" "),a("div",[a("el-dialog",{attrs:{title:"",visible:e.dialogTableVisible,width:"100%"},on:{"update:visible":function(t){e.dialogTableVisible=t}}},[a("div",{staticClass:"search"},[a("el-col",{attrs:{span:10}},[a("el-input",{attrs:{placeholder:"请输入项目名称/编号"},model:{value:e.input,callback:function(t){e.input=t},expression:"input"}})],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-button",{attrs:{type:"success",plain:""},on:{click:e.search}},[e._v("搜索")])],1)],1),e._v(" "),a("el-table",{attrs:{data:e.gridData,height:"550px"}},[a("el-table-column",{attrs:{property:"NUM",label:"序号",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{property:"BZ_NAME",label:"类型",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{property:"WI_XNAME",label:"项目名称",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{property:"WI_ID",label:"项目编号",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{property:"WI_RGTIME",label:"日期",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.WI_RGTIME))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary"},on:{click:function(a){e.handleClickDetail(t.row)}}},[e._v("查看详情")])]}}])})],1),e._v(" "),a("p",{directives:[{name:"show",rawName:"v-show",value:e.more,expression:"more"}],staticClass:"more",on:{click:e.loadMore}},[e._v("点击加载更多...")]),e._v(" "),a("p",{directives:[{name:"show",rawName:"v-show",value:e.ing,expression:"ing"}],staticClass:"more"},[a("i",{staticClass:"el-icon-loading"})]),e._v(" "),a("p",{directives:[{name:"show",rawName:"v-show",value:e.end,expression:"end"}],staticClass:"more"},[e._v("所有数据已加载完毕")])],1)],1)])},staticRenderFns:[]};var l=a("VU/8")(n,i,!1,function(e){a("zxKm")},"data-v-1f984628",null);t.default=l.exports},zxKm:function(e,t){}});
//# sourceMappingURL=7.4d4b46c1a6b5ec9795da.js.map